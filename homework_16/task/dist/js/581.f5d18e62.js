"use strict";(self["webpackChunktask"]=self["webpackChunktask"]||[]).push([[581],{9581:function(e,r,i){i.r(r),i.d(r,{default:function(){return R}});var t=i(3396);const s=e=>((0,t.dD)("data-v-118bf3f4"),e=e(),(0,t.Cn)(),e),d={class:"drivers top-page-pad"},n={class:"drivers__wrapper"},a={class:"drivers__main"},l={class:"drivers__filters filters-drivers"},o={class:"drivers__list list-drivers"},v=s((()=>(0,t._)("h2",{class:"list-drivers__title"},"Наші водії:",-1))),_={key:0,class:"drivers__loader"},c={key:1,class:"drivers__error"},m=s((()=>(0,t._)("p",null,"Помилка завантаження...",-1))),p=[m],u=s((()=>(0,t._)("div",{class:"list-drivers__subtitles"},[(0,t._)("span",null,"ПІБ"),(0,t._)("span",null,"Стаж")],-1))),b={class:"list-drivers__body"},f={class:"list-drivers__button"},h=["disabled"],D={class:"drivers__editor editor-driver"};function g(e,r,i,s,m,g){const I=(0,t.up)("drivers-filter"),w=(0,t.up)("v-progress-circular"),y=(0,t.up)("drivers-list-item"),L=(0,t.up)("router-view"),k=(0,t.up)("main-master-page");return(0,t.wg)(),(0,t.j4)(k,null,{default:(0,t.w5)((()=>[(0,t._)("div",d,[(0,t._)("div",n,[(0,t._)("div",a,[(0,t._)("div",l,[(0,t.Wm)(I)]),(0,t._)("div",o,[v,e.isLoading?((0,t.wg)(),(0,t.iD)("div",_,[(0,t.Wm)(w,{indeterminate:""})])):e.hasError?((0,t.wg)(),(0,t.iD)("div",c,p)):((0,t.wg)(),(0,t.iD)(t.HY,{key:2},[u,(0,t._)("div",b,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.getItemsList,(e=>((0,t.wg)(),(0,t.j4)(y,{key:e.id,driverItem:e},null,8,["driverItem"])))),128))]),(0,t._)("div",f,[(0,t._)("button",{class:"_btn",onClick:r[0]||(r[0]=(...e)=>g.onAddDriver&&g.onAddDriver(...e)),disabled:g.isOnDriverEditorRoute},"Додати водія",8,h)])],64))])]),(0,t._)("div",D,[(0,t.Wm)(L)])])])])),_:1})}i(560);var I=i(1126),w=i(65),y=i(7139);const L={class:"list-drivers__item item-driver"},k={class:"item-driver__name"},O={class:"item-driver__experience"},j=["disabled"],F=["disabled"];function C(e,r,i,s,d,n){const a=(0,t.up)("font-awesome-icon");return(0,t.wg)(),(0,t.iD)("div",L,[(0,t.Wm)(a,{icon:["fas","address-card"]}),(0,t._)("div",k,(0,y.zw)(i.driverItem.name),1),(0,t._)("div",O,(0,y.zw)(i.driverItem.experience),1),(0,t._)("button",{class:"item-driver__button btn-edit",disabled:n.isOnEditorPage,onClick:r[0]||(r[0]=e=>n.onEditDriver(i.driverItem.id))},[(0,t.Wm)(a,{icon:["fas","pen"]})],8,j),(0,t._)("button",{class:"item-driver__button btn-del",disabled:n.isOnEditorPage,onClick:r[1]||(r[1]=e=>n.onDeleteDriver(i.driverItem.id))},[(0,t.Wm)(a,{icon:["far","trash-can"]})],8,F)])}var E={name:"DriversListItem",props:{driverItem:{type:Object,required:!0}},computed:{...(0,w.Se)("appointments"),isOnEditorPage(){return"add"===this.$route.params.title}},methods:{...(0,w.nv)("driversList",["deleteItem"]),...(0,w.nv)("appointments",["deleteAppointmentByItemId"]),onEditDriver(e){this.$router.push({name:"editor",params:{title:"edit",driverId:e}})},onDeleteDriver(e){this.deleteItem(e),this.deleteAppointmentByItemId(e)}}},A=i(89);const W=(0,A.Z)(E,[["render",C],["__scopeId","data-v-55cb05b9"]]);var x=W,P=i(9242);const Z={class:"filters-drivers__body"},$={class:"filters-drivers__items"};function U(e,r,i,s,d,n){const a=(0,t.up)("font-awesome-icon");return(0,t.wg)(),(0,t.iD)("div",Z,[(0,t._)("div",$,[(0,t.wy)((0,t._)("input",{"onUpdate:modelValue":r[0]||(r[0]=e=>d.filteredObj.name=e),type:"text",class:"filters-drivers__item _inp _inp-large",placeholder:"ПІБ"},null,512),[[P.nr,d.filteredObj.name]]),(0,t.wy)((0,t._)("input",{"onUpdate:modelValue":r[1]||(r[1]=e=>d.filteredObj.experienceFrom=e),type:"number",class:"filters-drivers__item _inp _inp-small",placeholder:"Стаж від"},null,512),[[P.nr,d.filteredObj.experienceFrom]]),(0,t.wy)((0,t._)("input",{"onUpdate:modelValue":r[2]||(r[2]=e=>d.filteredObj.experienceTo=e),type:"number",class:"filters-drivers__item _inp _inp-small",placeholder:"Стаж до"},null,512),[[P.nr,d.filteredObj.experienceTo]])]),(0,t._)("button",{onClick:r[3]||(r[3]=(...e)=>n.onFilterAction&&n.onFilterAction(...e))},[(0,t.Wm)(a,{icon:["fas","magnifying-glass"]})]),(0,t._)("button",{onClick:r[4]||(r[4]=(...e)=>n.onCleaarDriversFilter&&n.onCleaarDriversFilter(...e))},[(0,t.Wm)(a,{icon:["fas","broom"]})])])}var V={name:"DriversFilter",data(){return{filteredObj:{}}},methods:{...(0,w.nv)("driversList",["loadFilteredList","loadList"]),onFilterAction(){this.loadFilteredList(this.filteredObj)},onCleaarDriversFilter(){this.filteredObj={},this.loadList()}}};const z=(0,A.Z)(V,[["render",U],["__scopeId","data-v-6138de83"]]);var B=z,H={name:"DriversPage",components:{MainMasterPage:I.Z,DriversListItem:x,DriversFilter:B},computed:{...(0,w.Se)("driversList",["getItemsList","isLoading","hasError"]),isOnDriverEditorRoute(){return!!this.$route.params.driverId}},created(){this.loadList()},methods:{...(0,w.nv)("driversList",["loadList"]),onAddDriver(){this.$router.push({name:"editor",params:{title:"add"}})}}};const M=(0,A.Z)(H,[["render",g],["__scopeId","data-v-118bf3f4"]]);var R=M}}]);
//# sourceMappingURL=581.f5d18e62.js.map